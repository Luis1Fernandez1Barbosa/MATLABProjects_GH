%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%CARGA DE DATOS DE SIMULACIÓN TP-801%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


clear all
clc


global a1 a2 a3 m1 m2 m3 c h g d1 n1 n2;
global b1 b2 b3;
global Ixx1 Ixx2 Ixx3;
global Iyy1 Iyy2 Iyy3;
global Izz1 Izz2 Izz3;
global lc1 lc2 lc3; 
global Kp1 Kp2 Kp3; 
global Kd1 Kd2 Kd3; 
global Ki1 Ki2 Ki3;
global T qe1ant qe2ant qe3ant Intant1 Intant2 Intant3;
global r1 r2 r3 Jm1 Jm2 Jm3 Ra Ka Kb f;


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%% Ganancias del Controlador %%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

T=0.001;


qe1ant=0;
qe2ant=0;
qe3ant=0;

Intant1=0;
Intant2=0;
Intant3=0;


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%% G A N A N C I A S %%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


Kp1=10;   %%%%%%%%%% PRIMERA ARTICULACION %%%%%%%%%%%%
Kd1=0.1;
Ki1=0;


Kp2=10;   %%%%%%%%%% SEGUNDA ARTICULACION %%%%%%%%%%%%
Kd2=0;
Ki2=0;


Kp3=50;   %%%%%%%%%% TERCERA ARTICULACION %%%%%%%%%%%%
Kd3=10;
Ki3=0;





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%Matrices  de inercia H(q) y vector de Coriolis C(q,qp)%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%Parametros D-H%%%%%%%%%%%%%%%%%%%

a1=0.019; %metros
a2=0.03;
a3=0.118;
c=0.048;
h=0.118;
d1=0.128;
n1=0.019;
n2=0.030;

%%%%%%%%%%%%%%%%%%%%%%%%Masas%%%%%%%%%%%%%%%%%%%%%%%

m1=0.75;%kg
m2=2.4;
m3=2.7;

%%%%%%%%%%%%%%%%%%%%%%%%%Inercias%%%%%%%%%%%%%%%%%%%

Ixx1=0.0017;  %Kg*m^2
Iyy1=0.0025;
Izz1=0.0037;

Ixx2=0.0511;
Iyy2=0.0496;
Izz2=0.0017; 

Ixx3=0.07051;
Iyy3=0.06893;
Izz3=0.0019;


%%%%%%%%%%$%Distancias a los centro de masa%%%%%%%%

lc1=0.02;%m
lc2=0.169;
lc3=0.21;


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%Matriz de coeficientes de fricción D%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

b1=0.0026;%N*m*s
b2=0.0025;
b3=0.0026;

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%Vector de fuerzas gravitacionales G%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

g=9.8;%m/s^2


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%Dinámica de actuadores%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


r1=6.6;  %%%1     Relacion de la reducción 
r2=2094; %%%rad/m
r3=2094;

Jm1=0.00000447;  %%%Kg*m^2   Inercia
Jm2=0.0000048;
Jm3=0.0000048;

Ra=7.17;
Ka=0.0582;
Kb=0.0582;

f=0.0003;






